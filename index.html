<!DOCTYPE html>
<html>
  <head>
    <title>Borm server</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css" />
    
    <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.birds.min.js"></script>

  </head>
  <body>
    <div id="swipe-circle">
      <div id="loading-bar"></div>
    </div>
    <div id="canvas"></div>
    <script>
      var startY;
      var content = document.getElementById('canvas');
      var swipeCircle = document.getElementById('swipe-circle');
      var loadingBar = document.getElementById('loading-bar');

      // Disable default pull-to-refresh behavior
      document.addEventListener('touchmove', function (e) {
        e.preventDefault();
      }, { passive: false });

      window.addEventListener('touchstart', function (e) {
      startY = e.touches[0].clientY;
      content.style.transform = 'translateY(0)';
      swipeCircle.style.display = 'none';
      swipeCircle.classList.remove('complete');
    }, { passive: true });

    window.addEventListener('touchmove', function (e) {
      var currentY = e.touches[0].clientY;
      var distance = currentY - startY;
      
      if (distance > 0) {
        swipeCircle.style.display = 'block';  
        content.style.transform = 'translateY(' + distance + 'px)';   
        var fillPercentage = Math.max(0, Math.min(distance, 150));
        loadingBar.style.height = fillPercentage + '%';
        swipeCircle.style.opacity = fillPercentage * 2 + '%';

        if (distance >= 150) {
          swipeCircle.classList.add('complete');
        } else {
          swipeCircle.classList.remove('complete');
        }
        } else {
        swipeCircle.style.display = 'none';
        }
        }, { passive: true });

    window.addEventListener('touchend', function (e) {
      var currentY = e.changedTouches[0].clientY;
      var distance = currentY - startY;

      if (distance > 150) {
        swipeCircle.style.display = 'none';
        location.reload();
      } else {
        content.style.transform = 'translateY(0)';
        swipeCircle.style.display = 'none';
      }
    }, { passive: true });
    </script>
    <script>
      VANTA.BIRDS({
        el: "#canvas",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color1: 0xb3ff,
        color2: 0xff00e0,
        birdSize: 1.30,
        wingSpan: 38.00,
        speedLimit: 2.00,
        separation: 60.00,
        cohesion: 8.00,
        quantity: 4.00
      })
      </script>

    <div id="top-bar">
      <a href="index.html" id="first">_HOME</a>
      <a href="https://linkedin.com/in/bramvanoostrum" id="second">_LINKEDIN</a>
      <a href="https://github.com/brammelam" id="third">_GITHUB</a>      
    </div>

    <div id="container"> 
      <a href="https://brammelam.github.io/tiny-racers-web" id="first-link">_TINY RACER</a>
      <a href="botpress.html" id="second-link">_CLEVERBOT</a>
      
    </div>


  </body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>Borm server</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <style>
    @media screen and (max-width: 767px) {
      /* Styles for screens with a maximum width of 767px (i.e. mobile devices) */
      a {
        font-size: 16px;
        line-height: 1.5;
      }
      #container {
        width: 30%;
      }
    }



</style>
</head>
<body>

  <div id="top-bar">
    <a href="https://github.com/brammelam" id="link1">GitHub</a>
    <a href="https://linkedin.com/in/bramvanoostrum" id="link2">LinkedIn</a>
  </div>
  <div id="container">
  <p>
    <a href="index.html">Home</a><br>
    <a href="https://brammelam.github.io/tiny-racers-web">Tiny Racer</a><br>
    <a href="main.py">Bussruta</a>
  </p>
</div>

  <script type = "module">
        const width = window.innerWidth;
        const height = window.innerHeight;
        // set up scene and camera
        var scene = new THREE.Scene();
        scene.background = new THREE.Color( 0x000000 );
        var camera = new THREE.PerspectiveCamera( 75, width / height, 0.1, 1000 );
        camera.position.z = 50;
        // create a renderer
        var renderer = new THREE.WebGLRenderer({ antialias: true });
        // set the size of the renderer and add it to the DOM
        //renderer.setPixelRatio(scale);
        renderer.setSize(width, height);
        renderer.outputEncoding = THREE.sRGBEncoding;
        document.body.appendChild(renderer.domElement);
        const hemiLight = new THREE.HemisphereLight( 0xffffff, 0x444444 );
         hemiLight.position.set( 0, 0, 200 );
         scene.add( hemiLight );
         const dirLight = new THREE.DirectionalLight( 0xffffff );
         dirLight.position.set( 0, 0,0 );
         dirLight.castShadow = true;
         dirLight.shadow.camera.top = 180;
         dirLight.shadow.camera.bottom = - 100;
         dirLight.shadow.camera.left = - 120;
         dirLight.shadow.camera.right = 120;
         //scene.add( dirLight );


         // Get the WebGL canvas element
         const canvas = renderer.domElement;
         // Set up touch event listeners
         let startY, endY;
         canvas.addEventListener('touchstart', (event) => {
           startY = event.touches[0].clientY;
         });
         canvas.addEventListener('touchmove', (event) => {
           endY = event.touches[0].clientY;
         });
         canvas.addEventListener('touchend', () => {
           // Check if the user has pulled down at least 100px
           if (endY - startY > 100) {
             // Reload the page to trigger a refresh
             location.reload();
           }
         });
         // Add a listener for the window's resize event
         window.addEventListener("resize", onWindowResize);

         function onWindowResize() {
           // Update the renderer's size to match the new window size
           const width = window.innerWidth;
           const height = window.innerHeight;
           renderer.setSize(width, height);

           // Update the camera's aspect ratio to match the new canvas size
           camera.aspect = canvas.clientWidth / canvas.clientHeight;
           camera.updateProjectionMatrix();
         }
  // create an array to store the dots
  var dots = [];
  var dotCount = 100;

  // create the dots and add them to the scene
  for (var i = 0; i < dotCount; i++) {
      var size = Math.random() * 0.15;
      var dotGeometry = new THREE.SphereGeometry(size, 4, 4);
      var dotMaterial = new THREE.MeshStandardMaterial({color: 0xffffff, flatShading: true});
      var dot = new THREE.Mesh(dotGeometry, dotMaterial);
      dot.position.z = Math.random() * 20 - 10;
      dot.position.x = Math.random() * 70 - 35;
      dot.position.y = Math.random() * 70 - 35;
      dot.speed = Math.random() * 0.05;
      dots.push(dot);
      scene.add(dot);
  }

  function update() {
      for (var i = 0; i < dotCount; i++) {
          dots[i].position.z += dots[i].speed;
          if (dots[i].position.z > 100) {
              dots[i].position.z = -100;
          }
        }
      }

    function animate() {
      requestAnimationFrame(animate);
      update();
      renderer.render(scene, camera);
    }
animate();
  </script>
  <div id="botpress-webchat"></div>
  <script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script>
  <script>
    window.botpressWebChat.init({
        "botId": "c67e4252-0ccc-4c57-ba96-c84e360324d8",
        "hostUrl": "https://cdn.botpress.cloud/webchat/v0",
        "messagingUrl": "https://messaging.botpress.cloud",
        "clientId": "c67e4252-0ccc-4c57-ba96-c84e360324d8",
        "botName": "CleverBot",
        "avatarUrl": "https://i.imgur.com/dR1ZDMK.png",
        "botConversationDescription": "I know everything",
        "showBotInfoPage": true,
        "containerWidth": "100%25",
        "layoutWidth": "100%25",
        "styleUrl": "https://slimy-jeans-stay-83-108-2-250.loca.lt/styles.css"
    });

  </script>

</body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <title>Borm server</title>
    
    <link rel="stylesheet" href="styles.css" />

    <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.birds.min.js"></script>

  </head>
  <body>
  <div id="loading">Loading...</div>  
  <div id="back-bar">
    
    Start chatting:<br>        
    <button id="chat-button">_CHAT</button>    
    <a href="index.html" id="back-button">_RETURN TO MAIN</a>

  </div>
  <div id="botpress-webchat"></div>
  
  <script src="https://cdn.botpress.cloud/webchat/v0/inject.js"></script>
  <script>
    // Get a reference to the delayed div
    var delayedDiv = document.getElementById("back-bar");
    var loadingDiv = document.getElementById("loading");

    // Hide the div initially
    delayedDiv.style.display = "none";

    // Delay in milliseconds before showing the div (e.g., 2000 for a 2-second delay)
    var delayDuration = 2000;

    // Function to show the div after the delay
    function showDelayedDiv() {
      delayedDiv.style.display = "flex";
      loadingDiv.style.display = "none";
    }

    // Call the showDelayedDiv function after the specified delay duration
    setTimeout(showDelayedDiv, delayDuration);

      window.botpressWebChat.init({
        stylesheet: "https://brammelam.github.io/stylebotpress.css",
        botId: "c67e4252-0ccc-4c57-ba96-c84e360324d8",
        hostUrl: "https://cdn.botpress.cloud/webchat/v0",
        messagingUrl: "https://messaging.botpress.cloud",
        clientId: "c67e4252-0ccc-4c57-ba96-c84e360324d8",
        botName: "CleverBot",
        avatarUrl: "https://i.imgur.com/dR1ZDMK.png",
        botConversationDescription: "I know everything",
        enableTranscriptDownload: false,

        // Set the width of the WebChat container and layout to 100% (Full Screen)
        containerWidth: "100%25",
        layoutWidth: "100%25",

        // Hide the widget and disable animations
        hideWidget: true,
        disableAnimations: true,
      });

    // Opens up the Chatbot by default
    // This lets users start chatting with the Chatbot without needing to click any buttons or menus.
    window.botpressWebChat.onEvent(
        function () {
            window.botpressWebChat.sendEvent({ type: "show" });
        },
        ["LIFECYCLE.LOADED"]
    );
    
    // Open chat by pressing button
    document.getElementById("chat-button").addEventListener("click", function() {
    window.botpressWebChat.sendEvent({ type: "show" });
    });

  </script>
  </body>
</html>
